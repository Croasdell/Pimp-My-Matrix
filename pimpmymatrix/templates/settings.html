{% import "_includes/forms" as forms %}

<div class="item" data-colspan="1">
  {{ forms.textareaField({
    label: 'Button Config'|t,
    id: 'buttonConfig',
    name: 'buttonConfig',
    instructions: "JSON - format this properly"|t,
    value: settings.buttonConfig,
    rows: 8,
    errors: settings.getErrors('buttonConfig')
  }) }}

  {% for field in blockTypesOnFields %}

    <h2>{{ field.name }}</h2>

    {{ forms.editableTableField({
      label: 'Blocktype groups for this field'|t,
      id: 'pimpmymatrix-grouptable-' ~ field.handle,
      name: 'pimpmymatrix-grouptable-' ~ field.handle,
      addRowLabel: 'Add a group'|t,
      cols: {
        label: {
          heading: 'Group Name'|t,
          type: 'singleline'
        }
      },
      rows: field.rows
    }) }}

    <ul class="pimpmymatrix-settings__list" data-pimpmymatrix-field-handle="{{ field.handle }}">
    {% for blockType in field.blockTypes %}
      <li data-pimpmymatrix-blocktype-name="{{ blockType.name }}" data-pimpmymatrix-blocktype-handle="{{ blockType.handle }}"></li>
    {% endfor %}
    </ul>

    <hr>
  {% endfor %}
</div>
